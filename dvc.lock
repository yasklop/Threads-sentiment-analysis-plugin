schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/data_ingestion.py
    deps:
    - path: src/data_ingestion.py
      hash: md5
      md5: 28e6581d9d647df4d79e482554764d59
      size: 3133
    outs:
    - path: data/raw
      hash: md5
      md5: f276e3c658bd288da00060e1f18dbe5f.dir
      size: 7936691
      nfiles: 1
  data_preprocessing:
    cmd: python src/data_preprocessing.py
    deps:
    - path: data/raw/raw_data.csv
      hash: md5
      md5: a520a324ed23a95eda33fbdd323a4c03
      size: 7936691
    - path: src/data_preprocessing.py
      hash: md5
      md5: 6f5753e5be6490613128154a53b479a4
      size: 2368
    outs:
    - path: data/preprocessed
      hash: md5
      md5: 2a5684e861c55e008f5a57bb571ea5c4.dir
      size: 7500193
      nfiles: 1
  model_training:
    cmd: python src/model_training.py
    deps:
    - path: data/preprocessed/final_data.csv
      hash: md5
      md5: 94177cf9d97dddfd8c5bedde27b020cb
      size: 7500193
    - path: src/model_training.py
      hash: md5
      md5: 918d51a2d8bba60a4d0a6f986cc7d0c2
      size: 5784
    params:
      params.yaml:
        model_params.batch_size: 16
        model_params.learning_rate: 2e-05
        model_params.max_length: 128
        model_params.model_name: bert-base-uncased
        model_params.num_epochs: 3
        model_params.random_state: 42
        model_params.split_ratio: 0.2
    outs:
    - path: results
      hash: md5
      md5: 5179cf5428daaf57866e4e9c3cb0a3bb.dir
      size: 4380107000
      nfiles: 24
  model_evaluation:
    cmd: python src/model_evaluation.py
    deps:
    - path: data/preprocessed/final_data.csv
      hash: md5
      md5: 94177cf9d97dddfd8c5bedde27b020cb
      size: 7500193
    - path: results
      hash: md5
      md5: 5179cf5428daaf57866e4e9c3cb0a3bb.dir
      size: 4380107000
      nfiles: 24
    - path: src/model_evaluation.py
      hash: md5
      md5: fbda154f4ffba178aa648dc53ae12117
      size: 5698
    outs:
    - path: experiment_info.json
      hash: md5
      md5: ff8d465913b671a315a7b0ec5934536f
      size: 82
  model_registration:
    cmd: python src/register_model.py
    deps:
    - path: experiment_info.json
      hash: md5
      md5: ff8d465913b671a315a7b0ec5934536f
      size: 82
    - path: src/register_model.py
      hash: md5
      md5: 7f53373d5598cf7a83f189b8238bd043
      size: 2158
